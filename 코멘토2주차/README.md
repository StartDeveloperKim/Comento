# 코멘토 2주차 과제
# RESTful API

### REST API란?

- Representational State Transfer의 약자로 자원을 이름으로 구분하여 해당 자원의 상태를 주고 받는 모든 것을 의미한다.
- REST는 기본적으로 웹의 기존 기술과 HTTP 프로토콜을 그대도 활용하기 때문에 웹의 장점을 최대한 활용할 수 있는 아키텍쳐 스타일이다.
- REST API란 REST 기반으로 서비스 API를 구현한 것을 뜻한다.

### REST의 구체적인 개념

- HTTP URI를 통해 자원을 명시, HTTP Method(GET, POST, PUT, PATCH, DELETE)를 통해 자원에 대한 CRUD를 적용한다.

### 왜 RESTful API를 만들려고 할까?

현재는모바일, 어플리케이션, PC등 다양한 플랫폼이 존재하는데 이 플랫폼에 따라 새로운 서버를 만드는 수고를 들이지 않기 위해 범용적으로 사용성을 보장하는 서버 디자인이 필요하게 되었다.

### REST의 구성

1. 자원(Resource) - URL
- 모든 자원에 대한 ID가 존재하고 이 자원은 Server에 존재한다.
1. 행위 - HTTP Method
- GET, POST, PATCH, PUT, DELETE와 같은 HTTP Method를 활용하여 CRUD를 한다.
1. 표현
- REST에서 자원에 대한 요청 및 응답은 JSON, XML, TEXT, RSS 등 여러 형태의 Representation으로 나타낼 수 있다.
- 현재 대부분의 경우 JSON으로 요청과 응답을 한다.

### 장점

- HTTP 프로토콜의 인프라를 그대로 사용하므로 REST API 사용을 위한 별도의 인프라를 구출할 필요가 없다.
- HTTP 표준 프로토콜을 따르는 모든 플랫폼에서 사용이 가능하다.
- 서버와 클라이언트의 역할을 명확하게 분리한다,

### 단점

- 표준이 존재하지 않는다.

### REST의 특징

REST는 아키텍쳐이고, HTTP는 REST 아키텍처를 구현 할 때 사용하면 쉬운 프로토콜이다.

1. 서버 - 클라이언트 구조
    - 리소스를 관리하는 서버가 존재하고, 다수의 클라이언트가 리소스를 소비하기 우해 네트워크를 통해 서버에 접근하는 구조를 의미한다.
2. Stateless(무상태)
    - HTTP 프로토콜을 기본적으로 Stateless Protocol이다. REST 역시 무상태성을 갖는다.
    - 서버는 각각의 요청을 완정히 별개의 것으로 인식하고 처리한다.
3. 캐시 가능한 데이터
    - 서버에서 리소스를 리턴할 때 캐시가 가능한지 아닌지 명시할 수 있어야 한다.
    - HTTP에서는 cache-control 이라는 헤더에 리소스의 캐시 여부를 명시할 수 있다.
4. 레이어 시스템
    - 클라이언트가 서버에 요청을 할 때 인증 서버, 캐싱 서버, 로드 밸런서를 거쳐서 최종적으로 애플리케이션에 도착한다고 하자.
    - 이 사이의 레이어들은 요청과 응답에 어떤 영향을 미치지 않으며 클라이언트는 서버의 레이어 존재 유무를 알지 못한다.

### REST API 설계 기본 규칙

1. URI는 정보의 자원을 표시해야 한다.
    1. 자원은 명사를 사용해야하고, 대문자보다는 소문자를 사용해야한다.
    2. 단수 명사, 복수 명사 등을 사용하여 나타낸다.
2. 자원에 대한 행위는 HTTP Method로 표현한다.
    1. GET, POST, PUT, PATCH, DELETE
    2. URI에 행위에 대한 동사 표현이 들어가면 안된다.

### REST API 설계 규칙

1. 슬래시 구분자는 계층 관계를 나타내는데 사용한다.
2. URI 마지막 문자로 슬래시를 포함하지 않는다.
3. 하이픈(-)은 URI 가독성을 높이는데 사용한다.
4. 언더바는 사용하지 않는다.
5. 파일 확장자는 URI에 포함하지 않는다.


-------------------------------
# HTTP 통신?

HTTP는 HyperText Transfer Protocol의 약자로서 개발 초기에는 HTML과 같은 하이퍼미디어 문서를 주로 전송했지만 최근에는 text, JSON, XML, Image 등 다양한 형태의 정보도 전송하는 애플리케이션 레이어 프로토콜이다.

## HTTP 특징

1. 클라이언트-서버 구조를 가지고 있다.
    
    클라이언트가 서버에 요청을 보내면 응답이 온다. 요청이 없으면 응답을 절대 올 수 없다.
    
2. 무상태성(Stateless)
    
    HTTP 프로토콜은 서버가 이전 요청에 대한 상태를 기억하지 않는 무상태 프로토콜이다. 이에 따라 서버 확장성이 높아진다.
    
3. 비 연결성
    
    HTTP는 기본이 연결을 유지하지 않는 모델이다. Three-hand shaking으로 연결을 짓고 통신이 끝나면 연결을 끊어 버린다. 하지만 지속적으로 트래픽을 주고 받아야 할 때는 지속 연결이라는 기술로 명시적으로 연결을 끊는 패킷을 주고 받기까지는 연결을 끊지않는다.
    

## HTTP 요청 메서드

1. GET
    
    리소스를 받기 위한 메서드이다..
    
2. POST
    
    리소스를 생성하거나 등록하는데 사용된다.
    
3. PUT
    
    변경 가능한 리소스를 업데이트하는데 사용된다. 모든 정보를 덮어 씌운다.
    
4. PATCH
    
    PUT과 비슷하지만 리소스의 일부분만 변경하는데 사용된다.
    
5. DELETE
    
    특정 리소스를 제거하는데 사용된다.
    

## HTTP 요청과 응답 과정

 1.  클라이언트가 브라우저에 URL을 입력한다.

1. DNS 도메인 이름을 IP주소로 변경하고 요청한다.
2. 웹 서버와 TCP 연결을 시도한다.
    - 여기서 Three-hand Shaking 방식으로 연결을 한다.
        - 클라이언트에서 SYN값을 포함시킨 패킷을 서버로 보낸다.
        - 서버는 SYN/ACK 플래그를 포함시킨 패킷을 클라이언트로 응답한다.
        - 클라이언트는 이에 대한 응답으로 ACK값을 포함시킨 패킷을 서버로 보낸다.
    
    위와 같은 과정으로 TCP는 연결이 된다.
    
3. 클라이언트가 서버에서 요청한다.
4. 요청을 받은 서버는 요청에 맞는 로직을 처리한 후 응답을 한다.
